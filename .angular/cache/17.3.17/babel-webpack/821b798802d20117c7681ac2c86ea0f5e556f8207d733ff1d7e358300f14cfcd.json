{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction ResumePageComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"h2\");\n    i0.ɵɵtext(3, \"Resume Preview\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Click the \\\"Download PDF\\\" button above to view your resume.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"a\", 10);\n    i0.ɵɵtext(7, \" Download Resume PDF \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"href\", ctx_r0.resumePdfUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nexport let ResumePageComponent = /*#__PURE__*/(() => {\n  class ResumePageComponent {\n    constructor(sanitizer) {\n      this.sanitizer = sanitizer;\n      this.resumePdfUrl = 'https://website-juniorliu.s3.us-east-2.amazonaws.com/resume-25.pdf';\n      this.showFallback = false;\n      // Initialize with direct PDF URL first\n      const pdfViewerUrl = `${this.resumePdfUrl}#toolbar=1&navpanes=1&scrollbar=1&page=1&view=FitH`;\n      this.safePdfUrl = this.sanitizer.bypassSecurityTrustResourceUrl(pdfViewerUrl);\n    }\n    ngOnInit() {\n      // Check if PDF can be displayed\n      setTimeout(() => {\n        this.checkPdfSupport();\n      }, 1000);\n      // Alternative approach: try to load PDF and show fallback if it fails\n      setTimeout(() => {\n        this.testPdfLoad();\n      }, 3000);\n    }\n    checkPdfSupport() {\n      // Basic check for PDF support\n      const isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n      const isFirefox = /Firefox/.test(navigator.userAgent);\n      const isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);\n      // Most modern browsers support PDF in iframe, but we can add fallback if needed\n      if (!isChrome && !isFirefox) {\n        // Safari and some other browsers might need fallback\n        this.showFallback = true;\n      }\n    }\n    testPdfLoad() {\n      // Test if the iframe actually loaded the PDF\n      const iframe = document.querySelector('.pdf-viewer');\n      if (iframe) {\n        try {\n          // Check if iframe has content\n          if (iframe.contentDocument === null || iframe.contentWindow === null) {\n            console.log('PDF may not be loading due to CORS restrictions');\n            this.tryGoogleViewer();\n          }\n        } catch (e) {\n          console.log('CORS restriction detected, trying Google Viewer');\n          this.tryGoogleViewer();\n        }\n      }\n    }\n    onIframeLoad() {\n      console.log('Iframe loaded successfully');\n      this.showFallback = false;\n    }\n    onIframeError() {\n      console.log('Iframe failed to load, trying Google Viewer');\n      this.tryGoogleViewer();\n    }\n    tryGoogleViewer() {\n      // Try Google Viewer as fallback\n      const googleViewerUrl = `https://docs.google.com/gview?url=${encodeURIComponent(this.resumePdfUrl)}&embedded=true`;\n      this.safePdfUrl = this.sanitizer.bypassSecurityTrustResourceUrl(googleViewerUrl);\n      // After a delay, if Google Viewer also doesn't work, show the fallback UI\n      setTimeout(() => {\n        this.showFallback = true;\n      }, 5000);\n    }\n    static {\n      this.ɵfac = function ResumePageComponent_Factory(t) {\n        return new (t || ResumePageComponent)(i0.ɵɵdirectiveInject(i1.DomSanitizer));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ResumePageComponent,\n        selectors: [[\"app-resume-page\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 13,\n        vars: 4,\n        consts: [[1, \"resume-container\"], [1, \"download-section\"], [\"download\", \"resume-25.pdf\", 1, \"download-button\", 3, \"href\"], [\"routerLink\", \"/index\", 1, \"back-button\"], [1, \"resume-display\"], [\"title\", \"Resume PDF\", \"frameborder\", \"0\", \"allowfullscreen\", \"\", 1, \"pdf-viewer\", 3, \"load\", \"error\", \"src\"], [\"download\", \"resume-25.pdf\", 3, \"href\"], [\"class\", \"resume-fallback\", 4, \"ngIf\"], [1, \"resume-fallback\"], [1, \"fallback-content\"], [\"download\", \"resume-25.pdf\", 1, \"download-button-fallback\", 3, \"href\"]],\n        template: function ResumePageComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n            i0.ɵɵtext(3, \" Download PDF \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"a\", 3);\n            i0.ɵɵtext(5, \"\\u2190 Back to Home\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 4)(7, \"iframe\", 5);\n            i0.ɵɵlistener(\"load\", function ResumePageComponent_Template_iframe_load_7_listener() {\n              return ctx.onIframeLoad();\n            })(\"error\", function ResumePageComponent_Template_iframe_error_7_listener() {\n              return ctx.onIframeError();\n            });\n            i0.ɵɵelementStart(8, \"p\");\n            i0.ɵɵtext(9, \"Your browser does not support PDFs. \");\n            i0.ɵɵelementStart(10, \"a\", 6);\n            i0.ɵɵtext(11, \"Download the PDF\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(12, ResumePageComponent_div_12_Template, 8, 1, \"div\", 7);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"href\", ctx.resumePdfUrl, i0.ɵɵsanitizeUrl);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"src\", ctx.safePdfUrl, i0.ɵɵsanitizeResourceUrl);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"href\", ctx.resumePdfUrl, i0.ɵɵsanitizeUrl);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.showFallback);\n          }\n        },\n        dependencies: [CommonModule, i2.NgIf, RouterModule, i3.RouterLink],\n        styles: [\".resume-container[_ngcontent-%COMP%]{min-height:100vh;background:#fff;display:flex;flex-direction:column;position:relative}.download-section[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:100;background:#fffffff2;padding:1rem;display:flex;justify-content:center;align-items:center;gap:2rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(0,0,0,.1)}.download-button[_ngcontent-%COMP%]{display:inline-block;padding:1rem 2rem;background:#007bff;color:#fff;text-decoration:none;border-radius:8px;border:2px solid #0056b3;transition:all .3s ease;font-weight:700;font-size:1.1rem}.download-button[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-2px);box-shadow:0 5px 15px #007bff4d}.back-button[_ngcontent-%COMP%]{display:inline-block;padding:.8rem 1.5rem;background:#0000001a;color:#333;text-decoration:none;border-radius:6px;border:1px solid rgba(0,0,0,.2);transition:all .3s ease;font-size:.9rem}.back-button[_ngcontent-%COMP%]:hover{background:#0003;transform:translateY(-1px)}.resume-display[_ngcontent-%COMP%]{flex:1;padding-top:100px}.pdf-viewer[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 100px);border:none;background:#fff}.resume-fallback[_ngcontent-%COMP%]{display:block;padding:2rem;text-align:center;color:#333;background:#fff;border:2px dashed #ccc;margin:2rem;border-radius:8px}.fallback-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;color:#333}.fallback-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:#666}.download-button-fallback[_ngcontent-%COMP%]{display:inline-block;padding:1.5rem 3rem;background:#007bff;color:#fff;text-decoration:none;border-radius:8px;border:2px solid #0056b3;transition:all .3s ease;font-weight:700;font-size:1.2rem}.download-button-fallback[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-2px)}@media (max-width: 768px){.download-section[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:.8rem}.download-button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;font-size:1rem}.back-button[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.8rem}.resume-display[_ngcontent-%COMP%]{padding-top:120px}.pdf-viewer[_ngcontent-%COMP%]{height:calc(100vh - 120px)}}@media (max-width: 480px){.download-section[_ngcontent-%COMP%]{padding:.5rem}.download-button[_ngcontent-%COMP%]{padding:.7rem 1.2rem;font-size:.9rem}.resume-display[_ngcontent-%COMP%]{padding-top:140px}.pdf-viewer[_ngcontent-%COMP%]{height:calc(100vh - 140px)}}\"]\n      });\n    }\n  }\n  return ResumePageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}